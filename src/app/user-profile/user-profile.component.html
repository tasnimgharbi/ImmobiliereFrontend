<div class="user-profile-container">
    <div class="user-profile-card">
      <div class="user-image">
        <img *ngIf="user.userImage" [src]="user.userImage" alt="User Image" />
        <div class="image-controls">
          <label for="fileInput" class="custom-file-upload">
            Choose File
            <input id="fileInput" type="file" (change)="onFileSelected($event)" />
          </label>
          <button (click)="uploadImage()" style="margin-left: 15px;">Upload Image</button>
        </div>
      </div>
      <div class="user-details">
        <h2>User Profile</h2>
        <div *ngIf="user">
          <p><strong>Username:</strong> {{ user.username }}</p>
          <p><strong>Email:</strong> {{ user.email }}</p>
          <p><strong>Address:</strong> {{ user.address }}</p>
          <p><strong>Contact:</strong> {{ user.contactnumber }}</p>
          <div *ngIf="shouldDisplayNames()">
            <p><strong>First Name:</strong> {{ user.firstname }}</p>
            <p><strong>Last Name:</strong> {{ user.lastname }}</p>
          </div>
          
          <button (click)="openUpdateModal()" style="margin-top: 10px;">Update Details</button>

          
  
          <div  class="modal-overlay" *ngIf="showUpdateModal">
            <div class="modal">
              <span class="close" (click)="closeUpdateModal()">&times;</span>
              <h2>Update User Details</h2>
              <form (submit)="updateUser()">
                <label for="username">Username:</label>
                <input type="text" id="username" [(ngModel)]="user.username" name="username" required />
                <label for="email">Email:</label>
                <input type="email" id="email" [(ngModel)]="user.email" name="email" required disabled="#" />
                <label for="address">Address:</label>
                <input type="text" id="address" [(ngModel)]="user.address" name="address" />
                <label for="contactnumber">Contact Number:</label>
                <input type="text" id="contactnumber" [(ngModel)]="user.contactnumber" name="contactnumber" />
                <label for="firstname">First Name:</label>
<input type="text" id="firstname" [(ngModel)]="user.firstname" name="firstname" />

<label for="lastname">Last Name:</label>
<input type="text" id="lastname" [(ngModel)]="user.lastname" name="lastname" />
                <button type="submit">Save Changes</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-house-list [filterByUserId]="true" [userId]="userId"></app-house-list>
